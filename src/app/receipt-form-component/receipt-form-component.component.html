<div class="receipt-container" [ngClass]="getFormColor()">

    <!-- CLOSE BUTTON -->
    <button class="close-btn" (click)="closeForm()">âœ–</button>

    <h2 class="title">{{ isEdit ? 'Edit Receipt' : 'Add Receipt' }}</h2>

    <div class="receipt-layout">

        <!-- LEFT IMAGE SECTION -->
        <div class="left-section">
            <label class="image-upload">
                <input type="file" hidden accept="image/*" (change)="onImageSelected($event)" />
                <img [src]="previewImage || 'https://cdn-icons-png.flaticon.com/512/1829/1829586.png'"
                    class="upload-preview">
            </label>
            <p class="hint-text">Click to upload receipt</p>
        </div>

        <!-- RIGHT FORM -->
        <form [formGroup]="form" (ngSubmit)="submit()" class="form-section">

            <!-- Row 1 -->
            <div class="row">
                <div class="field">
                    <input type="date" formControlName="receiptDate" placeholder=" " />
                    <label>Receipt Date</label>
                </div>

                <div class="field">
                    <select formControlName="transactionType">
                        <option [ngValue]="null" disabled selected>Select Type</option>
                        <option [ngValue]="1">Receipt</option>
                        <option [ngValue]="0">Payment</option>
                    </select>

                    <label>Transaction Type</label>
                </div>
            </div>

            <!-- Row 2 -->
            <div class="row">
                <div class="field">
                    <select formControlName="partyName">
                        <option [ngValue]="null" disabled>Select Party</option>
                        <option *ngFor="let u of users" [ngValue]="u">{{ u.name }}</option>
                    </select>
                    <label>Party</label>
                </div>

                <div class="field">
                    <input formControlName="amount" type="number" placeholder=" " />
                    <label>Amount</label>
                </div>
            </div>

            <!-- Row 3 -->
            <div class="row">
                <div class="field">
                    <select formControlName="paymentMode">
                        <option [ngValue]="null" disabled>Select Mode</option>
                        <option [ngValue]="0">Cash</option>
                        <option [ngValue]="1">UPI</option>
                        <option [ngValue]="2">Bank Transfer</option>
                        <option [ngValue]="3">Card</option>
                    </select>
                    <label>Payment Mode</label>
                </div>

                <div class="field">
                    <input formControlName="transactionId" placeholder=" " />
                    <label>Transaction ID</label>
                </div>
            </div>

            <!-- Row 4 -->
            <div class="row">
                <div class="field full-width">
                    <input formControlName="description" placeholder=" " />
                    <label>Description</label>
                </div>
            </div>

            <button class="submit-btn" type="submit">
                {{ isEdit ? 'Update' : 'Save' }}
            </button>

        </form>
    </div>
</div>