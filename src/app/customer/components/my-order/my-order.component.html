<h2 class="table-heading">My Orders</h2>

<mat-table class="mat-elevation-z8" [dataSource]="myOrders">

  <ng-container matColumnDef="id">
    <mat-header-cell *matHeaderCellDef>Order ID</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">
      <a [routerLink]="['/order', myOrder.id]">{{ myOrder.id }}</a>
    </mat-cell>
  </ng-container>

  <ng-container matColumnDef="userName">
    <mat-header-cell *matHeaderCellDef>User</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.userName }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="trackingId">
    <mat-header-cell *matHeaderCellDef>Tracking ID</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.trackingId }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="amount">
    <mat-header-cell *matHeaderCellDef>Amount</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.amount }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="orderDescription">
    <mat-header-cell *matHeaderCellDef>Description</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.orderDescription }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="address">
    <mat-header-cell *matHeaderCellDef>Address</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.address }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="date">
    <mat-header-cell *matHeaderCellDef>Date</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.date | date:'dd/MM/yyyy' }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="orderStatus">
    <mat-header-cell *matHeaderCellDef>Status</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">{{ myOrder.orderStatus }}</mat-cell>
  </ng-container>

  <ng-container matColumnDef="action">
    <mat-header-cell *matHeaderCellDef>Action</mat-header-cell>
    <mat-cell *matCellDef="let myOrder">
      <span *ngIf="myOrder.orderStatus?.trim().toLowerCase() === 'delivered'">
        <button mat-raised-button color="primary" (click)="openReviewDialog(myOrder)">Review</button>
      </span>
    </mat-cell>
  </ng-container>

  <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
  <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

</mat-table>